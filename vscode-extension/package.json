{
  "name": "mcp-agent-kernel",
  "displayName": "MCP Agent Kernel",
  "description": "Jupyter notebook kernel powered by MCP server for AI agent collaboration",
  "version": "0.1.0",
  "publisher": "warshawsky-research",
  "license": "Apache-2.0",
  "repository": {
    "type": "git",
    "url": "https://github.com/warshawsky-research/mcp-agent-kernel"
  },
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Notebooks",
    "Data Science"
  ],
  "activationEvents": [
    "onStartupFinished",
    "onNotebook:jupyter-notebook"
  ],
  "main": "./out/src/extension.js",
  "contributes": {
    "configuration": {
      "title": "MCP Agent Kernel",
      "properties": {
        "mcp-jupyter.serverPath": {
          "type": "string",
          "default": "",
          "description": "Path to the MCP server directory. Leave empty for auto-detection."
        },
        "mcp-jupyter.pythonPath": {
          "type": "string",
          "default": "",
          "description": "Path to Python executable for MCP server. Leave empty for auto-detection."
        },
        "mcp-jupyter.pollingInterval": {
          "type": "number",
          "default": 500,
          "description": "Polling interval in milliseconds for cell execution status."
        },
        "mcp-jupyter.autoRestart": {
          "type": "boolean",
          "default": true,
          "description": "Automatically restart MCP server on crash."
        },
        "mcp-jupyter.serverMode": {
          "type": "string",
          "enum": [
            "spawn",
            "connect"
          ],
          "default": "spawn",
          "description": "Whether to spawn a new server process or connect to an existing one."
        },
        "mcp-jupyter.remotePort": {
          "type": "number",
          "default": 3000,
          "description": "Port to connect to when serverMode is 'connect'."
        },
        "mcp-jupyter.idleTimeout": {
          "type": "number",
          "default": 600,
          "description": "Idle-timeout (seconds) for spawned server before auto-shutdown. Set to 0 to disable."
        }
      }
    },
    "walkthroughs": [
      {
        "id": "mcp-jupyter-setup",
        "title": "Setup MCP Agent Kernel",
        "description": "Get your AI Research Assistant running in 3 steps.",
        "steps": [
          {
            "id": "select-runtime",
            "title": "1. Select Runtime",
            "description": "Choose where the MCP Server should run. We recommend the **Managed Environment** for stability.",
            "media": {
              "image": "media/setup-step-1.svg",
              "altText": "Runtime Selection"
            },
            "completionEvents": [
              "onCommand:mcp-jupyter.selectRuntime"
            ]
          },
          {
            "id": "install-server",
            "title": "2. Install Server",
            "description": "Install the necessary Python dependencies into the selected environment.",
            "media": {
              "image": "media/setup-step-2.svg",
              "altText": "Install Process"
            },
            "completionEvents": [
              "onCommand:mcp-jupyter.installServer"
            ]
          },
          {
            "id": "verify-connection",
            "title": "3. Verify Connection",
            "description": "Test the connection to ensure the Agent is ready to collaborate.",
            "media": {
              "image": "media/setup-step-3.svg",
              "altText": "Connection Test"
            },
            "completionEvents": [
              "onCommand:mcp-jupyter.testConnection"
            ]
          }
        ]
      }
    ],
    "commands": [
      {
        "command": "mcp-jupyter.quickStart",
        "title": "MCP Jupyter: Quick Start",
        "category": "MCP Jupyter",
        "icon": "$(rocket)"
      },
      {
        "command": "mcp-jupyter.showHealthCheck",
        "title": "MCP Jupyter: Show Health Dashboard",
        "category": "MCP Jupyter",
        "icon": "$(pulse)"
      },
      {
        "command": "mcp-jupyter.showAuditLog",
        "title": "MCP Jupyter: Show Audit Log",
        "category": "MCP Jupyter",
        "icon": "$(notebook)"
      },
      {
        "command": "mcp-jupyter.refreshExecutions",
        "title": "MCP Jupyter: Refresh Executions",
        "icon": "$(refresh)"
      },
      {
        "command": "mcp-jupyter.openWalkthrough",
        "title": "MCP Jupyter: Open Setup Wizard",
        "category": "MCP Jupyter"
      },
      {
        "command": "mcp-jupyter.selectRuntime",
        "title": "MCP Jupyter: Select Runtime"
      },
      {
        "command": "mcp-jupyter.installServer",
        "title": "MCP Jupyter: Install Server"
      },
      {
        "command": "mcp-jupyter.testConnection",
        "title": "MCP Jupyter: Test Server Connection"
      },
      {
        "command": "mcp-jupyter.selectEnvironment",
        "title": "MCP Jupyter: Select Python Environment"
      },
      {
        "command": "mcp-jupyter.restartServer",
        "title": "MCP Jupyter: Restart Server"
      },
      {
        "command": "mcp-jupyter.showServerLogs",
        "title": "MCP Jupyter: Show Server Logs"
      },
      {
        "command": "mcp-jupyter.syncNotebook",
        "title": "MCP Jupyter: Sync Notebook from Disk"
      },
      {
        "command": "mcp-jupyter.refreshVariables",
        "title": "MCP Jupyter: Refresh Variables",
        "icon": "$(refresh)"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "mcp-jupyter",
          "title": "MCP Jupyter",
          "icon": "$(notebook)"
        }
      ]
    },
    "views": {
      "mcp-jupyter": [
        {
          "id": "mcpVariables",
          "name": "Variable Dashboard",
          "when": "true"
        },
        {
          "id": "mcpExecutions",
          "name": "Active Executions",
          "when": "true"
        }
      ]
    },
    "menus": {
      "view/title": [
        {
          "command": "mcp-jupyter.refreshVariables",
          "when": "view == mcpVariables",
          "group": "navigation"
        },
        {
          "command": "mcp-jupyter.refreshExecutions",
          "when": "view == mcpExecutions",
          "group": "navigation"
        }
      ]
    },
    "notebookOutputRenderer": [
      {
        "id": "mcp-asset-renderer",
        "displayName": "MCP Asset Renderer",
        "entrypoint": "./out/renderer.js",
        "mimeTypes": [
          "application/vnd.mcp.asset+json"
        ]
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "npm run bundle-python && npm run bundle-wheels && npm run compile && npm run build:renderer",
    "bundle-python": "node scripts/copy-python-server.js",
    "bundle-wheels": "bash scripts/bundle_wheels.sh",
    "bundle-wheels:skip": "echo 'Skipping wheel bundling (online mode)'",
    "compile": "tsc -p ./",
    "build:renderer": "node esbuild.renderer.mjs",
    "watch": "tsc -watch -p ./",
    "watch:renderer": "node esbuild.renderer.mjs --watch",
    "pretest": "npm run compile && npm run build:renderer",
    "test:e2e": "playwright test --config=playwright.config.ts",
    "test": "node ./out/test/runTest.js"
  },
  "devDependencies": {
    "@opentelemetry/api": "^1.9.0",
    "@playwright/test": "^1.40.1",
    "@types/mocha": "^10.x",
    "@types/node": "^20.x",
    "@types/sinon": "^21.0.0",
    "@types/vscode": "^1.108.1",
    "@types/ws": "^8.18.1",
    "@typescript-eslint/eslint-plugin": "^6.x",
    "@typescript-eslint/parser": "^6.x",
    "@vscode/test-electron": "^2.3.x",
    "@vscode/vsce": "^3.7.1",
    "esbuild": "^0.27.2",
    "eslint": "^8.x",
    "glob": "^13.0.0",
    "mocha": "^10.x",
    "sinon": "^21.0.1",
    "typescript": "^5.3.0",
    "vscode-notebook-renderer": "^0.0.1-security"
  },
  "dependencies": {
    "ws": "^8.19.0"
  }
}
